{# AI Model Selector Modal - Reusable component for selecting AI models with visual comparison #}
<div class="modal fade" id="aiModelSelectorModal" tabindex="-1" aria-labelledby="aiModelSelectorModalLabel" aria-hidden="true" data-bs-backdrop="static">
    <div class="modal-dialog modal-fullscreen modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header bg-cyber-g border-0 d-flex align-items-center justify-content-between">
                <h5 class="modal-title" id="aiModelSelectorModalLabel">
                    <i class="mdi mdi-robot-outline me-2"></i>{{ 'ai_model_selector.title'|trans|default('Select AI Model') }}
                </h5>
                <div class="input-group input-group-sm w-auto ms-4">
                    <span class="input-group-text bg-dark border-secondary">
                        <i class="mdi mdi-magnify text-secondary"></i>
                    </span>
                    <input type="text" class="form-control form-control-sm bg-dark border-secondary text-light" 
                        id="aiModelSearchInput" placeholder="{{ 'ai_model_selector.search_placeholder'|trans|default('Search models...') }}">
                </div>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="{{ 'ui.close'|trans }}"></button>
            </div>
            <div class="modal-body p-0">
                {# Loading State #}
                <div id="aiModelSelectorLoading" class="text-center py-5">
                    <div class="spinner-border text-cyber" role="status">
                        <span class="visually-hidden">{{ 'ui.loading'|trans }}</span>
                    </div>
                    <p class="mt-3 text-secondary">{{ 'ai_model_selector.loading'|trans|default('Loading AI models...') }}</p>
                </div>

                {# Search and Filter Bar #}
                <div id="aiModelSelectorFilters" class="p-3 border-bottom border-secondary d-none">
                    <div class="row g-2 align-items-center">
                        <div class="col-md-6 d-none">
                            <div class="btn-group btn-group-sm w-100" role="group">
                                <input type="radio" class="btn-check" name="providerFilter" id="filterAll" value="all" checked>
                                <label class="btn btn-sm btn-outline-secondary" for="filterAll">{{ 'ai_model_selector.filter.all'|trans|default('All') }}</label>
                                
                                <input type="radio" class="btn-check" name="providerFilter" id="filterAnthropic" value="anthropic">
                                <label class="btn btn-sm btn-outline-secondary" for="filterAnthropic">Anthropic</label>
                                
                                <input type="radio" class="btn-check" name="providerFilter" id="filterGoogle" value="google">
                                <label class="btn btn-sm btn-outline-secondary" for="filterGoogle">Google</label>
                                
                                <input type="radio" class="btn-check" name="providerFilter" id="filterOther" value="other">
                                <label class="btn btn-sm btn-outline-secondary" for="filterOther">{{ 'ai_model_selector.filter.other'|trans|default('Other') }}</label>
                            </div>
                        </div>
                    </div>
                </div>

                {# Models Table #}
                <div id="aiModelSelectorTable" class="table-responsive d-none">
                    <table class="table table-hover table-dark mb-0">
                        <thead class="sticky-top bg-dark">
                            <tr>
                                <th class="text-start" data-sort="modelName">{{ 'ai_model_selector.table.model'|trans|default('MODEL') }}</th>
                                <th class="text-center" data-sort="avgPrice">{{ 'ai_model_selector.table.price'|trans|default('CENA') }}</th>
                                <th class="text-center" data-sort="contextWindow">{{ 'ai_model_selector.table.context'|trans|default('KONTEXT') }}</th>
                                <th class="text-center">{{ 'ai_model_selector.table.modalities'|trans|default('I/O') }}</th>
                                <th class="text-center">{{ 'ai_model_selector.table.actions'|trans|default('AKCIA') }}</th>
                            </tr>
                        </thead>
                        <tbody id="aiModelSelectorTableBody">
                            {# Populated by JavaScript #}
                        </tbody>
                    </table>
                </div>

                {# No Results Message #}
                <div id="aiModelSelectorNoResults" class="text-center py-5 d-none">
                    <i class="mdi mdi-robot-dead-outline" style="font-size: 4rem; opacity: 0.3;"></i>
                    <p class="text-secondary mt-3">{{ 'ai_model_selector.no_results'|trans|default('No models found matching your criteria.') }}</p>
                </div>

                {# Error State #}
                <div id="aiModelSelectorError" class="text-center py-5 d-none">
                    <i class="mdi mdi-alert-circle-outline text-danger" style="font-size: 3rem;"></i>
                    <p class="text-danger mt-3" id="aiModelSelectorErrorMessage"></p>
                    <button type="button" class="btn btn-sm btn-outline-secondary mt-2" onclick="window.aiModelSelector.loadModels()">
                        <i class="mdi mdi-refresh me-1"></i>{{ 'ai_model_selector.retry'|trans|default('Retry') }}
                    </button>
                </div>
            </div>
            <div class="modal-footer border-0 bg-dark bg-opacity-50 justify-content-between">
                <small class="text-secondary me-auto">
                    <i class="mdi mdi-information-outline me-1"></i>
                    {{ 'ai_model_selector.footer_hint'|trans|default('Click on any model to see details') }}
                </small>
                <button type="button" class="btn btn-sm btn-secondary" data-bs-dismiss="modal">
                    <i class="mdi mdi-close me-2"></i>{{ 'ui.cancel'|trans }}
                </button>
            </div>
        </div>
    </div>
</div>

{# Model Details Modal #}
<div class="modal fade" id="aiModelDetailsModal" tabindex="-1" aria-labelledby="aiModelDetailsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header bg-cyber-g border-0">
                <h5 class="modal-title" id="aiModelDetailsModalLabel">
                    <i class="mdi mdi-information-outline me-2"></i>{{ 'ai_model_selector.details.title'|trans|default('Model Details') }}
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="{{ 'ui.close'|trans }}"></button>
            </div>
            <div class="modal-body bg-dark bg-opacity-25" id="aiModelDetailsBody">
                {# Populated by JavaScript #}
            </div>
            <div class="modal-footer border-0 bg-dark bg-opacity-75 justify-content-between">
                <button type="button" class="btn btn-sm btn-secondary" data-bs-dismiss="modal">
                    <i class="mdi mdi-close me-2"></i>{{ 'ui.close'|trans }}
                </button>
                <button type="button" class="btn btn-sm btn-cyber" id="aiModelDetailsSelectBtn">
                    <i class="mdi mdi-check me-2"></i>{{ 'ai_model_selector.select_this_model'|trans|default('Select This Model') }}
                </button>
            </div>
        </div>
    </div>
</div>
